
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.2">
    
    
      
        <title>MX4 Modem - Host Mobility Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.50c56a3b.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#overview" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Host Mobility Documentation" class="md-header__button md-logo" aria-label="Host Mobility Documentation" data-md-component="logo">
      
  <img src="../../../assets/hm-logo-grey-on-transparent.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Host Mobility Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              MX4 Modem
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Host Mobility Documentation" class="md-nav__button md-logo" aria-label="Host Mobility Documentation" data-md-component="logo">
      
  <img src="../../../assets/hm-logo-grey-on-transparent.svg" alt="logo">

    </a>
    Host Mobility Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Welcome to Host Mobilitys Documentation
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Platforms
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Platforms
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../product/host-monitor-x/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Platform Host Monitor X
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../product/mx4-c61/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Platform MX-4 C61
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../product/mx4-t30fr/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Platform MX-4 T30 FR
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../product/mx4-ct-gl/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Platform CT GL
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../product/mx-v/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Platform MX-V
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Power Management and LEDs
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Power Management and LEDs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../system/power_management/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Power management
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../leds/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LEDs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Mx4
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            Mx4
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../system/mx4/reset_cause/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reset cause (MX-4)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../system/mx4/wake_up_cause/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Wake up cause
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    System
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            System
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../login/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Login
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../system/update/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    System update
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../system/development/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Software development
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Interfaces
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Interfaces
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../accelerometer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Accelerometer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../analog/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Analog inputs (ADC)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../audio/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Audio
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../can/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CAN
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../digital_io/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Digital I/O
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ethernet/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ethernet
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../flexray/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Flexray (MX-4)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../j1708/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    J1708
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lin/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LIN (MX-4)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modem/modem/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Modem
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../networking/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Networking
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_12" >
        
          
          <label class="md-nav__link" for="__nav_5_12" id="__nav_5_12_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    RS-232 and RS-485
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_12">
            <span class="md-nav__icon md-icon"></span>
            RS-232 and RS-485
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../serial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Serial communication
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_13" >
        
          
          <label class="md-nav__link" for="__nav_5_13" id="__nav_5_13_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Real Time Clock
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_13">
            <span class="md-nav__icon md-icon"></span>
            Real Time Clock
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../rtc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Real Time Clock
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../rtc_alarm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Wake on Real Time Clock (set alarm)
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../start_signal/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Start signals
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tachometer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tachometer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../usb/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    USB
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../wifi/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    WiFi
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../support/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Customer support
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tags/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tags
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  
  
<nav class="md-tags" >
  
    
    
    
      <a href="../../../tags/#modem" class="md-tag">Modem</a>
    
  
    
    
    
      <a href="../../../tags/#ct" class="md-tag">CT</a>
    
  
    
    
    
      <a href="../../../tags/#t30" class="md-tag">T30</a>
    
  
    
    
    
      <a href="../../../tags/#t30-fr" class="md-tag">T30 FR</a>
    
  
</nav>



<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">⚓︎</a></h2>
<p>The Mx4 has a modem from Gemalto pls8-e Europe or pls8-us USA.</p>
<p><strong>Note:</strong> CT GL has Quectel called EG25-G with a GPS receiver so see C61 for more information.</p>
<h2 id="startingenabling">Starting/Enabling<a class="headerlink" href="#startingenabling" title="Permanent link">⚓︎</a></h2>
<p><strong>Note:</strong>  The modem is turned off by default.
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>echo 1 &gt; /opt/hm/pic_attributes/ctrl_modem_on
</code></pre></div>
* The modem takes about 10 seconds to start and register itself with the kernel. And thakes up to one minutes before it is registered in the linux usb list.</p>
<ul>
<li>Check USB TTY device to see if it has shown up.</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>find<span class="w"> </span>/dev<span class="w"> </span>-name<span class="w"> </span><span class="s2">&quot;ttyACM*&quot;</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>/dev/ttyACM4
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>/dev/ttyACM3
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>/dev/ttyACM2
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>/dev/ttyACM1
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>/dev/ttyACM0
</code></pre></div>
<h1 id="status-on">Status ON<a class="headerlink" href="#status-on" title="Permanent link">⚓︎</a></h1>
<p>Example showing a modem start and running.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>/opt/hm/modem_status.sh
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>*******<span class="w"> </span>MODEM<span class="w"> </span>STATUS<span class="w"> </span>DUMP<span class="w"> </span>*******
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>ctrl_modem_status:<span class="w"> </span><span class="m">1342177491</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>Modem<span class="w"> </span>state<span class="w">     </span>ON
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>Ctrl<span class="w"> </span>state:<span class="w">     </span>ON
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>SLED:<span class="w">           </span><span class="m">0</span>
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a>SLED<span class="w"> </span>Mon:<span class="w">       </span>ON
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a>
<a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a>Modem<span class="w"> </span>EMG/reset:<span class="w">        </span><span class="m">0</span>
<a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a>
<a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a>Current<span class="w"> </span>state:<span class="w">  </span>on
<a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a>Prev<span class="w"> </span>state:<span class="w">     </span>turn_on_timeout
<a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a>
<a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a>Prev<span class="w"> </span>RC:<span class="w">        </span>unexpected_shutdown
<a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a>
<a id="__codelineno-3-19" name="__codelineno-3-19" href="#__codelineno-3-19"></a>Start<span class="w"> </span>cnt:<span class="w">      </span><span class="m">0</span>
<a id="__codelineno-3-20" name="__codelineno-3-20" href="#__codelineno-3-20"></a>Reset<span class="w"> </span>cnt:<span class="w">      </span><span class="m">0</span>
<a id="__codelineno-3-21" name="__codelineno-3-21" href="#__codelineno-3-21"></a>
<a id="__codelineno-3-22" name="__codelineno-3-22" href="#__codelineno-3-22"></a>EMG<span class="w"> </span>used:<span class="w">       </span>NO
</code></pre></div>
<h2 id="shutdownreset">Shutdown/Reset<a class="headerlink" href="#shutdownreset" title="Permanent link">⚓︎</a></h2>
<p>To disable it, set ctrl_modem_on to 0</p>
<p>To reset it use ctrl_modem_emg (reset signal) and set it to 0 then back to 1 after a second.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="nb">echo</span><span class="w"> </span><span class="m">0</span><span class="w"> </span>&gt;<span class="w"> </span>/opt/hm/pic_attributes/ctrl_modem_on
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="c1"># or (not to be used regulary because it could effect the memory)</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="nb">echo</span><span class="w"> </span><span class="m">0</span><span class="w"> </span>&gt;<span class="w"> </span>/opt/hm/pic_attributes/ctrl_modem_emg
</code></pre></div>
<h2 id="production-settings"><a href="../../modem/gemalto/#production-settings">Production settings</a><a class="headerlink" href="#production-settings" title="Permanent link">⚓︎</a></h2>
<h2 id="gps"><a href="../../modem/gemalto/#gps">GPS</a><a class="headerlink" href="#gps" title="Permanent link">⚓︎</a></h2>
<h2 id="use-wvdial-to-get-a-broadband-connection"><a href="../../modem/gemalto/#use-wvdial-to-get-a-broadband-connection">Use WvDial to get a broadband connection</a><a class="headerlink" href="#use-wvdial-to-get-a-broadband-connection" title="Permanent link">⚓︎</a></h2>
<h2 id="linux-31">Linux 3.1<a class="headerlink" href="#linux-31" title="Permanent link">⚓︎</a></h2>
<p><strong>Note:</strong> for bsp release 1.6(1.5) and older</p>
<h2 id="modem">Modem<a class="headerlink" href="#modem" title="Permanent link">⚓︎</a></h2>
<p>The MX-4 board is equipped with a 3G modem. It is not started by default when the unit is powered one but has to be explicitly turned on with the following command:</p>
<div class="highlight"><pre><span></span><code> root@mx4-gtt:~# echo 1 &gt; /opt/hm/pic_attributes/ctrl_modem_on
</code></pre></div>
<p>if PH8 is powered on, following ports will be created
* /dev/ttyUSB0 --&gt; Reserved port (not usable)
* /dev/ttyUSB1 --&gt; NMEA port
* /dev/ttyUSB2 --&gt; Application port
* /dev/ttyUSB3 --&gt; Modem port
* /dev/ttyUSB4 --&gt; WWAN port (not usable, Windows only)</p>
<p>You should get an output similar to the following:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="w"> </span>root@mx4-gtt:~#<span class="w"> </span>dmesg<span class="w"> </span><span class="p">|</span><span class="w"> </span>tail
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="m">5034</span>.642693<span class="o">]</span><span class="w"> </span>option<span class="w"> </span><span class="m">3</span>-1:1.0:<span class="w"> </span>GSM<span class="w"> </span>modem<span class="w"> </span><span class="o">(</span><span class="m">1</span>-port<span class="o">)</span><span class="w"> </span>converter<span class="w"> </span>detected
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="m">5034</span>.644177<span class="o">]</span><span class="w"> </span>usb<span class="w"> </span><span class="m">3</span>-1:<span class="w"> </span>GSM<span class="w"> </span>modem<span class="w"> </span><span class="o">(</span><span class="m">1</span>-port<span class="o">)</span><span class="w"> </span>converter<span class="w"> </span>now<span class="w"> </span>attached<span class="w"> </span>to<span class="w"> </span>ttyUSB0
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="m">5034</span>.646047<span class="o">]</span><span class="w"> </span>option<span class="w"> </span><span class="m">3</span>-1:1.1:<span class="w"> </span>GSM<span class="w"> </span>modem<span class="w"> </span><span class="o">(</span><span class="m">1</span>-port<span class="o">)</span><span class="w"> </span>converter<span class="w"> </span>detected
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="m">5034</span>.647351<span class="o">]</span><span class="w"> </span>usb<span class="w"> </span><span class="m">3</span>-1:<span class="w"> </span>GSM<span class="w"> </span>modem<span class="w"> </span><span class="o">(</span><span class="m">1</span>-port<span class="o">)</span><span class="w"> </span>converter<span class="w"> </span>now<span class="w"> </span>attached<span class="w"> </span>to<span class="w"> </span>ttyUSB1
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="m">5034</span>.649150<span class="o">]</span><span class="w"> </span>option<span class="w"> </span><span class="m">3</span>-1:1.2:<span class="w"> </span>GSM<span class="w"> </span>modem<span class="w"> </span><span class="o">(</span><span class="m">1</span>-port<span class="o">)</span><span class="w"> </span>converter<span class="w"> </span>detected
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="m">5034</span>.650337<span class="o">]</span><span class="w"> </span>usb<span class="w"> </span><span class="m">3</span>-1:<span class="w"> </span>GSM<span class="w"> </span>modem<span class="w"> </span><span class="o">(</span><span class="m">1</span>-port<span class="o">)</span><span class="w"> </span>converter<span class="w"> </span>now<span class="w"> </span>attached<span class="w"> </span>to<span class="w"> </span>ttyUSB2
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="m">5034</span>.652141<span class="o">]</span><span class="w"> </span>option<span class="w"> </span><span class="m">3</span>-1:1.3:<span class="w"> </span>GSM<span class="w"> </span>modem<span class="w"> </span><span class="o">(</span><span class="m">1</span>-port<span class="o">)</span><span class="w"> </span>converter<span class="w"> </span>detected
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="m">5034</span>.653759<span class="o">]</span><span class="w"> </span>usb<span class="w"> </span><span class="m">3</span>-1:<span class="w"> </span>GSM<span class="w"> </span>modem<span class="w"> </span><span class="o">(</span><span class="m">1</span>-port<span class="o">)</span><span class="w"> </span>converter<span class="w"> </span>now<span class="w"> </span>attached<span class="w"> </span>to<span class="w"> </span>ttyUSB3
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="m">5034</span>.655688<span class="o">]</span><span class="w"> </span>option<span class="w"> </span><span class="m">3</span>-1:1.4:<span class="w"> </span>GSM<span class="w"> </span>modem<span class="w"> </span><span class="o">(</span><span class="m">1</span>-port<span class="o">)</span><span class="w"> </span>converter<span class="w"> </span>detected
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="m">5034</span>.657306<span class="o">]</span><span class="w"> </span>usb<span class="w"> </span><span class="m">3</span>-1:<span class="w"> </span>GSM<span class="w"> </span>modem<span class="w"> </span><span class="o">(</span><span class="m">1</span>-port<span class="o">)</span><span class="w"> </span>converter<span class="w"> </span>now<span class="w"> </span>attached<span class="w"> </span>to<span class="w"> </span>ttyUSB4
</code></pre></div>
<p>The modem can also be turned off with this command.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>root@mx4-gtt:~#<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="m">0</span><span class="w"> </span>&gt;<span class="w"> </span>/opt/hm/pic_attributes/ctrl_modem_on
</code></pre></div>
<h3 id="creating-a-ppp-connection">Creating a PPP connection<a class="headerlink" href="#creating-a-ppp-connection" title="Permanent link">⚓︎</a></h3>
<p>First off we need to install <code>pppd</code> if it does not exist on target.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>opkg<span class="w"> </span>update
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>opkg<span class="w"> </span>install<span class="w"> </span>ppp
</code></pre></div>
<p>File structure needed for ppp to work:
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>/etc/ppp
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>├── chap-secrets
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>├── ip-down.d
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>│   └── # Custom down script
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>├── ip-up.d
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a>│   ├── # Custom up script
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a>├── operators
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a>│   └── apn
<a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a>├── pap-secrets
<a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a>├── peers
<a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a>│   └── provider
<a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a>├── pppd_connect-chat
<a id="__codelineno-8-13" name="__codelineno-8-13" href="#__codelineno-8-13"></a>└── pppd_disconnect-chat
</code></pre></div></p>
<p>Contest of above files:
/etc/ppp/operators/apn
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>AT+CGDCONT=1,&quot;IP&quot;,&quot;openroamer.com&quot;,&quot;&quot;,0,0
</code></pre></div>
Replace "openroamer.com" with your operator APN</p>
<p>/etc/ppp/peers/provider
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a># File: /etc/ppp/options
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a># We set defualt remote ip adress.
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>#:192.168.255.1
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>#Some GPRS phones don&#39;t reply to LCP echo&#39;s
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a>lcp-echo-failure 0
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a>lcp-echo-interval 0
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a># Keep pppd attached to the terminal:
<a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a># Comment this to get daemon mode pppd
<a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a>#nodetach
<a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a># Debug info from pppd:
<a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a># Comment this off, if you don&#39;t need more info
<a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a>debug
<a id="__codelineno-10-13" name="__codelineno-10-13" href="#__codelineno-10-13"></a>persist
<a id="__codelineno-10-14" name="__codelineno-10-14" href="#__codelineno-10-14"></a>holdoff 5
<a id="__codelineno-10-15" name="__codelineno-10-15" href="#__codelineno-10-15"></a>maxfail 0
<a id="__codelineno-10-16" name="__codelineno-10-16" href="#__codelineno-10-16"></a># Show password in debug messages
<a id="__codelineno-10-17" name="__codelineno-10-17" href="#__codelineno-10-17"></a>show-password
<a id="__codelineno-10-18" name="__codelineno-10-18" href="#__codelineno-10-18"></a># Connect script:
<a id="__codelineno-10-19" name="__codelineno-10-19" href="#__codelineno-10-19"></a># scripts to initialize the GPRS modem and start the connection,
<a id="__codelineno-10-20" name="__codelineno-10-20" href="#__codelineno-10-20"></a>#connect /etc/pppd_connect-chat
<a id="__codelineno-10-21" name="__codelineno-10-21" href="#__codelineno-10-21"></a>connect &#39;/usr/sbin/chat -v -f /etc/ppp/pppd_connect-chat&#39;
<a id="__codelineno-10-22" name="__codelineno-10-22" href="#__codelineno-10-22"></a># Disconnect script:
<a id="__codelineno-10-23" name="__codelineno-10-23" href="#__codelineno-10-23"></a># AT commands used to &#39;hangup&#39; the GPRS connection.
<a id="__codelineno-10-24" name="__codelineno-10-24" href="#__codelineno-10-24"></a>#disconnect /etc/pppd_disconnect-chat
<a id="__codelineno-10-25" name="__codelineno-10-25" href="#__codelineno-10-25"></a>disconnect &#39;/usr/sbin/chat -v -f /etc/ppp/pppd_disconnect-chat&#39;
<a id="__codelineno-10-26" name="__codelineno-10-26" href="#__codelineno-10-26"></a># Serial device to which the GPRS phone is connected:
<a id="__codelineno-10-27" name="__codelineno-10-27" href="#__codelineno-10-27"></a>/dev/ttyUSB3
<a id="__codelineno-10-28" name="__codelineno-10-28" href="#__codelineno-10-28"></a># Serial port line speed
<a id="__codelineno-10-29" name="__codelineno-10-29" href="#__codelineno-10-29"></a>115200 # fast enough
<a id="__codelineno-10-30" name="__codelineno-10-30" href="#__codelineno-10-30"></a># Hardware flow control:
<a id="__codelineno-10-31" name="__codelineno-10-31" href="#__codelineno-10-31"></a># Use hardware flow control with cable, Bluetooth and USB but not with IrDA.
<a id="__codelineno-10-32" name="__codelineno-10-32" href="#__codelineno-10-32"></a>crtscts # serial cable, Bluetooth and USB, on some occations with IrDA too
<a id="__codelineno-10-33" name="__codelineno-10-33" href="#__codelineno-10-33"></a># Ignore carrier detect signal from the modem:
<a id="__codelineno-10-34" name="__codelineno-10-34" href="#__codelineno-10-34"></a>local
<a id="__codelineno-10-35" name="__codelineno-10-35" href="#__codelineno-10-35"></a># IP addresses:
<a id="__codelineno-10-36" name="__codelineno-10-36" href="#__codelineno-10-36"></a># - accept peers idea of our local address and set address peer as 10.0.0.1
<a id="__codelineno-10-37" name="__codelineno-10-37" href="#__codelineno-10-37"></a># (any address would do, since IPCP gives 0.0.0.0 to it)
<a id="__codelineno-10-38" name="__codelineno-10-38" href="#__codelineno-10-38"></a># - if you use the 10. network at home or something and pppd rejects it,
<a id="__codelineno-10-39" name="__codelineno-10-39" href="#__codelineno-10-39"></a># change the address to something else
<a id="__codelineno-10-40" name="__codelineno-10-40" href="#__codelineno-10-40"></a>#0.0.0.0:0.0.0.0
<a id="__codelineno-10-41" name="__codelineno-10-41" href="#__codelineno-10-41"></a># pppd must not propose any IP address to the peer!
<a id="__codelineno-10-42" name="__codelineno-10-42" href="#__codelineno-10-42"></a>noipdefault
<a id="__codelineno-10-43" name="__codelineno-10-43" href="#__codelineno-10-43"></a># Accept peers idea of our local address
<a id="__codelineno-10-44" name="__codelineno-10-44" href="#__codelineno-10-44"></a>ipcp-accept-local
<a id="__codelineno-10-45" name="__codelineno-10-45" href="#__codelineno-10-45"></a>ipcp-accept-remote
<a id="__codelineno-10-46" name="__codelineno-10-46" href="#__codelineno-10-46"></a># Add the ppp interface as default route to the IP routing table
<a id="__codelineno-10-47" name="__codelineno-10-47" href="#__codelineno-10-47"></a>defaultroute
<a id="__codelineno-10-48" name="__codelineno-10-48" href="#__codelineno-10-48"></a># DNS servers from the phone:
<a id="__codelineno-10-49" name="__codelineno-10-49" href="#__codelineno-10-49"></a># some phones support this, some don&#39;t.
<a id="__codelineno-10-50" name="__codelineno-10-50" href="#__codelineno-10-50"></a>usepeerdns
<a id="__codelineno-10-51" name="__codelineno-10-51" href="#__codelineno-10-51"></a># ppp compression:
<a id="__codelineno-10-52" name="__codelineno-10-52" href="#__codelineno-10-52"></a># ppp compression may be used between the phone and the pppd, but the
<a id="__codelineno-10-53" name="__codelineno-10-53" href="#__codelineno-10-53"></a># serial connection is usually not the bottleneck in GPRS, so the
<a id="__codelineno-10-54" name="__codelineno-10-54" href="#__codelineno-10-54"></a># compression is useless (and with some phones need to disabled before
<a id="__codelineno-10-55" name="__codelineno-10-55" href="#__codelineno-10-55"></a># the LCP negotiations succeed).
<a id="__codelineno-10-56" name="__codelineno-10-56" href="#__codelineno-10-56"></a>novj
<a id="__codelineno-10-57" name="__codelineno-10-57" href="#__codelineno-10-57"></a>nobsdcomp
<a id="__codelineno-10-58" name="__codelineno-10-58" href="#__codelineno-10-58"></a>novjccomp
<a id="__codelineno-10-59" name="__codelineno-10-59" href="#__codelineno-10-59"></a>nopcomp
<a id="__codelineno-10-60" name="__codelineno-10-60" href="#__codelineno-10-60"></a>noaccomp
<a id="__codelineno-10-61" name="__codelineno-10-61" href="#__codelineno-10-61"></a>
<a id="__codelineno-10-62" name="__codelineno-10-62" href="#__codelineno-10-62"></a># The phone is not required to authenticate:
<a id="__codelineno-10-63" name="__codelineno-10-63" href="#__codelineno-10-63"></a>noauth
<a id="__codelineno-10-64" name="__codelineno-10-64" href="#__codelineno-10-64"></a>
<a id="__codelineno-10-65" name="__codelineno-10-65" href="#__codelineno-10-65"></a># Username and password:
<a id="__codelineno-10-66" name="__codelineno-10-66" href="#__codelineno-10-66"></a># If username and password are required by the APN, put here the username
<a id="__codelineno-10-67" name="__codelineno-10-67" href="#__codelineno-10-67"></a># and put the username-password combination to the secrets file:
<a id="__codelineno-10-68" name="__codelineno-10-68" href="#__codelineno-10-68"></a># /etc/ppp/pap-secrets for PAP and /etc/ppp/chap-secrets for CHAP
<a id="__codelineno-10-69" name="__codelineno-10-69" href="#__codelineno-10-69"></a># authentication. See pppd man pages for details.
<a id="__codelineno-10-70" name="__codelineno-10-70" href="#__codelineno-10-70"></a>#user mirza
<a id="__codelineno-10-71" name="__codelineno-10-71" href="#__codelineno-10-71"></a>#password 123456
<a id="__codelineno-10-72" name="__codelineno-10-72" href="#__codelineno-10-72"></a>
<a id="__codelineno-10-73" name="__codelineno-10-73" href="#__codelineno-10-73"></a>mru 1500
<a id="__codelineno-10-74" name="__codelineno-10-74" href="#__codelineno-10-74"></a>mtu 1400
</code></pre></div>
/etc/ppp/pppd_connect-chat
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>#!/bin/sh
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>#
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a># File: /etc/ppp/pppd_connect-chat
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a> TIMEOUT 5
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a> ECHO ON
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a> ABORT &#39;\nBUSY\r&#39;
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a> ABORT &#39;\nERROR\r&#39;
<a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a> ABORT &#39;\nNO ANSWER\r&#39;
<a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a> ABORT &#39;\nNO CARRIER\r&#39;
<a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a> ABORT &#39;\nNO DIALTONE\r&#39;
<a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a> ABORT &#39;\nRINGING\r\n\r\nRINGING\r&#39;
<a id="__codelineno-11-12" name="__codelineno-11-12" href="#__codelineno-11-12"></a> &#39;&#39; \rATZ
<a id="__codelineno-11-13" name="__codelineno-11-13" href="#__codelineno-11-13"></a> TIMEOUT 12
<a id="__codelineno-11-14" name="__codelineno-11-14" href="#__codelineno-11-14"></a> SAY &quot;Press CTRL-C to close the connection at any stage!&quot;
<a id="__codelineno-11-15" name="__codelineno-11-15" href="#__codelineno-11-15"></a> SAY &quot;\ndefining PDP context...\n&quot;
<a id="__codelineno-11-16" name="__codelineno-11-16" href="#__codelineno-11-16"></a> OK ATH
<a id="__codelineno-11-17" name="__codelineno-11-17" href="#__codelineno-11-17"></a> OK ATE1
<a id="__codelineno-11-18" name="__codelineno-11-18" href="#__codelineno-11-18"></a> OK-AT-OK @/etc/ppp/operators/apn
<a id="__codelineno-11-19" name="__codelineno-11-19" href="#__codelineno-11-19"></a> OK ATD*99#
<a id="__codelineno-11-20" name="__codelineno-11-20" href="#__codelineno-11-20"></a> TIMEOUT 22
<a id="__codelineno-11-21" name="__codelineno-11-21" href="#__codelineno-11-21"></a> SAY &quot;\nwaiting for connect...\n&quot;
<a id="__codelineno-11-22" name="__codelineno-11-22" href="#__codelineno-11-22"></a> CONNECT &quot;&quot;
<a id="__codelineno-11-23" name="__codelineno-11-23" href="#__codelineno-11-23"></a> SAY &quot;\nConnected.&quot;
<a id="__codelineno-11-24" name="__codelineno-11-24" href="#__codelineno-11-24"></a> SAY &quot;\nIf the following ppp negotiations fail,\n&quot;
<a id="__codelineno-11-25" name="__codelineno-11-25" href="#__codelineno-11-25"></a> SAY &quot;try restarting the phone.\n&quot;
</code></pre></div></p>
<p>/etc/ppp/pppd_disconnect-chat
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>at
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>ABORT<span class="w"> </span><span class="s2">&quot;BUSY&quot;</span>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>ABORT<span class="w"> </span><span class="s2">&quot;ERROR&quot;</span>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>ABORT<span class="w"> </span><span class="s2">&quot;NO DIALTONE&quot;</span>
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a>SAY<span class="w"> </span><span class="s2">&quot;n\Sending break to the modem\n&quot;</span>
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a><span class="s2">&quot;&quot;</span><span class="w"> </span><span class="s2">&quot;\K&quot;</span>
<a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a><span class="s2">&quot;&quot;</span><span class="w"> </span><span class="s2">&quot;\K&quot;</span>
<a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a><span class="s2">&quot;&quot;</span><span class="w"> </span><span class="s2">&quot;\K&quot;</span>
<a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a><span class="s2">&quot;&quot;</span><span class="w"> </span><span class="s2">&quot;+++ATH&quot;</span>
<a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a><span class="s2">&quot;&quot;</span><span class="w"> </span><span class="s2">&quot;+++ATH&quot;</span>
<a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a><span class="s2">&quot;&quot;</span><span class="w"> </span><span class="s2">&quot;+++ATH&quot;</span>
<a id="__codelineno-12-12" name="__codelineno-12-12" href="#__codelineno-12-12"></a>SAY<span class="w"> </span><span class="s2">&quot;\nModem context detached\n&quot;</span>
</code></pre></div></p>
<p><code>/etc/ppp/pap-secrets</code> and <code>/etc/ppp/chap-secrets</code> are empty and do not really need to exist unless you need to use one of these methods to auth with network provider.</p>
<p>When you have the above structure correctly setup you can then start and stop pppd connections with <code>pon</code> and <code>poff</code> commands.</p>
<p>One tip is to start up syslogd and run <code>tail -f /var/log/messages &amp;</code>, this way you will get some output during the connection process and makes it easier to debug in case of connection errors.</p>
<p>Here is an example.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>root@mx4-gtt:~#<span class="w"> </span>syslogd
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>root@mx4-gtt:~#<span class="w"> </span>tail<span class="w"> </span>-f<span class="w"> </span>/var/log/messages<span class="w"> </span><span class="p">&amp;</span>
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>root@mx4-gtt:/etc/ppp/operators#<span class="w"> </span>pon
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a>root@mx4-gtt:/etc/ppp/operators#<span class="w"> </span>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:27<span class="w"> </span>mx4-gtt<span class="w"> </span>daemon.notice<span class="w"> </span>pppd<span class="o">[</span><span class="m">564</span><span class="o">]</span>:<span class="w"> </span>pppd
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="m">2</span>.4.5<span class="w"> </span>started<span class="w"> </span>by<span class="w"> </span>root,<span class="w"> </span>uid<span class="w"> </span><span class="m">0</span>
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:27<span class="w"> </span>mx4-gtt<span class="w"> </span>local2.info<span class="w"> </span>chat<span class="o">[</span><span class="m">565</span><span class="o">]</span>:<span class="w"> </span>timeout<span class="w"> </span><span class="nb">set</span><span class="w"> </span>to<span class="w"> </span><span class="m">5</span><span class="w"> </span>seconds
<a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:27<span class="w"> </span>mx4-gtt<span class="w"> </span>local2.info<span class="w"> </span>chat<span class="o">[</span><span class="m">565</span><span class="o">]</span>:<span class="w"> </span>abort<span class="w"> </span>on<span class="w"> </span><span class="o">(</span><span class="se">\n</span>BUSY<span class="se">\r</span><span class="o">)</span>
<a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:27<span class="w"> </span>mx4-gtt<span class="w"> </span>local2.info<span class="w"> </span>chat<span class="o">[</span><span class="m">565</span><span class="o">]</span>:<span class="w"> </span>abort<span class="w"> </span>on<span class="w"> </span><span class="o">(</span><span class="se">\n</span>ERROR<span class="se">\r</span><span class="o">)</span>
<a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:27<span class="w"> </span>mx4-gtt<span class="w"> </span>local2.info<span class="w"> </span>chat<span class="o">[</span><span class="m">565</span><span class="o">]</span>:<span class="w"> </span>abort<span class="w"> </span>on<span class="w"> </span><span class="o">(</span><span class="se">\n</span>NO<span class="w"> </span>ANSWER<span class="se">\r</span><span class="o">)</span>
<a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:27<span class="w"> </span>mx4-gtt<span class="w"> </span>local2.info<span class="w"> </span>chat<span class="o">[</span><span class="m">565</span><span class="o">]</span>:<span class="w"> </span>abort<span class="w"> </span>on<span class="w"> </span><span class="o">(</span><span class="se">\n</span>NO<span class="w"> </span>CARRIER<span class="se">\r</span><span class="o">)</span>
<a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:27<span class="w"> </span>mx4-gtt<span class="w"> </span>local2.info<span class="w"> </span>chat<span class="o">[</span><span class="m">565</span><span class="o">]</span>:<span class="w"> </span>abort<span class="w"> </span>on<span class="w"> </span><span class="o">(</span><span class="se">\n</span>NO<span class="w"> </span>DIALTONE<span class="se">\r</span><span class="o">)</span>
<a id="__codelineno-13-12" name="__codelineno-13-12" href="#__codelineno-13-12"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:27<span class="w"> </span>mx4-gtt<span class="w"> </span>local2.info<span class="w"> </span>chat<span class="o">[</span><span class="m">565</span><span class="o">]</span>:<span class="w"> </span>abort<span class="w"> </span>on<span class="w"> </span><span class="o">(</span><span class="se">\n</span>RINGING<span class="se">\r\n\r\n</span>RINGING<span class="se">\r</span><span class="o">)</span>
<a id="__codelineno-13-13" name="__codelineno-13-13" href="#__codelineno-13-13"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:27<span class="w"> </span>mx4-gtt<span class="w"> </span>local2.info<span class="w"> </span>chat<span class="o">[</span><span class="m">565</span><span class="o">]</span>:<span class="w"> </span>send<span class="w"> </span><span class="o">(</span>^MATZ^M<span class="o">)</span>
<a id="__codelineno-13-14" name="__codelineno-13-14" href="#__codelineno-13-14"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:28<span class="w"> </span>mx4-gtt<span class="w"> </span>local2.info<span class="w"> </span>chat<span class="o">[</span><span class="m">565</span><span class="o">]</span>:<span class="w"> </span>timeout<span class="w"> </span><span class="nb">set</span><span class="w"> </span>to<span class="w"> </span><span class="m">12</span><span class="w"> </span>seconds
<a id="__codelineno-13-15" name="__codelineno-13-15" href="#__codelineno-13-15"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:28<span class="w"> </span>mx4-gtt<span class="w"> </span>local2.info<span class="w"> </span>chat<span class="o">[</span><span class="m">565</span><span class="o">]</span>:<span class="w"> </span>expect<span class="w"> </span><span class="o">(</span>OK<span class="o">)</span>
<a id="__codelineno-13-16" name="__codelineno-13-16" href="#__codelineno-13-16"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:28<span class="w"> </span>mx4-gtt<span class="w"> </span>local2.info<span class="w"> </span>chat<span class="o">[</span><span class="m">565</span><span class="o">]</span>:<span class="w"> </span>ATZ^M^M
<a id="__codelineno-13-17" name="__codelineno-13-17" href="#__codelineno-13-17"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:28<span class="w"> </span>mx4-gtt<span class="w"> </span>local2.info<span class="w"> </span>chat<span class="o">[</span><span class="m">565</span><span class="o">]</span>:<span class="w"> </span>OK
<a id="__codelineno-13-18" name="__codelineno-13-18" href="#__codelineno-13-18"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:28<span class="w"> </span>mx4-gtt<span class="w"> </span>local2.info<span class="w"> </span>chat<span class="o">[</span><span class="m">565</span><span class="o">]</span>:<span class="w">  </span>--<span class="w"> </span>got<span class="w"> </span>it
<a id="__codelineno-13-19" name="__codelineno-13-19" href="#__codelineno-13-19"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:28<span class="w"> </span>mx4-gtt<span class="w"> </span>local2.info<span class="w"> </span>chat<span class="o">[</span><span class="m">565</span><span class="o">]</span>:<span class="w"> </span>send<span class="w"> </span><span class="o">(</span>ATH^M<span class="o">)</span>
<a id="__codelineno-13-20" name="__codelineno-13-20" href="#__codelineno-13-20"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:28<span class="w"> </span>mx4-gtt<span class="w"> </span>local2.info<span class="w"> </span>chat<span class="o">[</span><span class="m">565</span><span class="o">]</span>:<span class="w"> </span>expect<span class="w"> </span><span class="o">(</span>OK<span class="o">)</span>
<a id="__codelineno-13-21" name="__codelineno-13-21" href="#__codelineno-13-21"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:28<span class="w"> </span>mx4-gtt<span class="w"> </span>local2.info<span class="w"> </span>chat<span class="o">[</span><span class="m">565</span><span class="o">]</span>:<span class="w"> </span>^M
<a id="__codelineno-13-22" name="__codelineno-13-22" href="#__codelineno-13-22"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:28<span class="w"> </span>mx4-gtt<span class="w"> </span>local2.info<span class="w"> </span>chat<span class="o">[</span><span class="m">565</span><span class="o">]</span>:<span class="w"> </span>ATH^M^M
<a id="__codelineno-13-23" name="__codelineno-13-23" href="#__codelineno-13-23"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:28<span class="w"> </span>mx4-gtt<span class="w"> </span>local2.info<span class="w"> </span>chat<span class="o">[</span><span class="m">565</span><span class="o">]</span>:<span class="w"> </span>OK
<a id="__codelineno-13-24" name="__codelineno-13-24" href="#__codelineno-13-24"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:28<span class="w"> </span>mx4-gtt<span class="w"> </span>local2.info<span class="w"> </span>chat<span class="o">[</span><span class="m">565</span><span class="o">]</span>:<span class="w">  </span>--<span class="w"> </span>got<span class="w"> </span>it
<a id="__codelineno-13-25" name="__codelineno-13-25" href="#__codelineno-13-25"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:28<span class="w"> </span>mx4-gtt<span class="w"> </span>local2.info<span class="w"> </span>chat<span class="o">[</span><span class="m">565</span><span class="o">]</span>:<span class="w"> </span>send<span class="w"> </span><span class="o">(</span>ATE1^M<span class="o">)</span>
<a id="__codelineno-13-26" name="__codelineno-13-26" href="#__codelineno-13-26"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:28<span class="w"> </span>mx4-gtt<span class="w"> </span>local2.info<span class="w"> </span>chat<span class="o">[</span><span class="m">565</span><span class="o">]</span>:<span class="w"> </span>expect<span class="w"> </span><span class="o">(</span>OK<span class="o">)</span>
<a id="__codelineno-13-27" name="__codelineno-13-27" href="#__codelineno-13-27"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:28<span class="w"> </span>mx4-gtt<span class="w"> </span>local2.info<span class="w"> </span>chat<span class="o">[</span><span class="m">565</span><span class="o">]</span>:<span class="w"> </span>^M
<a id="__codelineno-13-28" name="__codelineno-13-28" href="#__codelineno-13-28"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:28<span class="w"> </span>mx4-gtt<span class="w"> </span>local2.info<span class="w"> </span>chat<span class="o">[</span><span class="m">565</span><span class="o">]</span>:<span class="w"> </span>ATE1^M^M
<a id="__codelineno-13-29" name="__codelineno-13-29" href="#__codelineno-13-29"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:28<span class="w"> </span>mx4-gtt<span class="w"> </span>local2.info<span class="w"> </span>chat<span class="o">[</span><span class="m">565</span><span class="o">]</span>:<span class="w"> </span>OK
<a id="__codelineno-13-30" name="__codelineno-13-30" href="#__codelineno-13-30"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:28<span class="w"> </span>mx4-gtt<span class="w"> </span>local2.info<span class="w"> </span>chat<span class="o">[</span><span class="m">565</span><span class="o">]</span>:<span class="w">  </span>--<span class="w"> </span>got<span class="w"> </span>it
<a id="__codelineno-13-31" name="__codelineno-13-31" href="#__codelineno-13-31"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:28<span class="w"> </span>mx4-gtt<span class="w"> </span>local2.info<span class="w"> </span>chat<span class="o">[</span><span class="m">565</span><span class="o">]</span>:<span class="w"> </span>send<span class="w"> </span><span class="o">(</span>AT+CGDCONT<span class="o">=</span><span class="m">1</span>,<span class="s2">&quot;IP&quot;</span>,<span class="s2">&quot;internet.tele2.</span>
<a id="__codelineno-13-32" name="__codelineno-13-32" href="#__codelineno-13-32"></a><span class="s2">se&quot;</span>,<span class="s2">&quot;&quot;</span>,0,0^M<span class="o">)</span>
<a id="__codelineno-13-33" name="__codelineno-13-33" href="#__codelineno-13-33"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:28<span class="w"> </span>mx4-gtt<span class="w"> </span>local2.info<span class="w"> </span>chat<span class="o">[</span><span class="m">565</span><span class="o">]</span>:<span class="w"> </span>expect<span class="w"> </span><span class="o">(</span>OK<span class="o">)</span>
<a id="__codelineno-13-34" name="__codelineno-13-34" href="#__codelineno-13-34"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:28<span class="w"> </span>mx4-gtt<span class="w"> </span>local2.info<span class="w"> </span>chat<span class="o">[</span><span class="m">565</span><span class="o">]</span>:<span class="w"> </span>^M
<a id="__codelineno-13-35" name="__codelineno-13-35" href="#__codelineno-13-35"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:28<span class="w"> </span>mx4-gtt<span class="w"> </span>local2.info<span class="w"> </span>chat<span class="o">[</span><span class="m">565</span><span class="o">]</span>:<span class="w"> </span>AT+CGDCONT<span class="o">=</span><span class="m">1</span>,<span class="s2">&quot;IP&quot;</span>,<span class="s2">&quot;internet.tele2.se&quot;</span>,<span class="s2">&quot;&quot;</span>
<a id="__codelineno-13-36" name="__codelineno-13-36" href="#__codelineno-13-36"></a>,0,0^M^M
<a id="__codelineno-13-37" name="__codelineno-13-37" href="#__codelineno-13-37"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:28<span class="w"> </span>mx4-gtt<span class="w"> </span>local2.info<span class="w"> </span>chat<span class="o">[</span><span class="m">565</span><span class="o">]</span>:<span class="w"> </span>OK
<a id="__codelineno-13-38" name="__codelineno-13-38" href="#__codelineno-13-38"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:28<span class="w"> </span>mx4-gtt<span class="w"> </span>local2.info<span class="w"> </span>chat<span class="o">[</span><span class="m">565</span><span class="o">]</span>:<span class="w">  </span>--<span class="w"> </span>got<span class="w"> </span>it
<a id="__codelineno-13-39" name="__codelineno-13-39" href="#__codelineno-13-39"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:28<span class="w"> </span>mx4-gtt<span class="w"> </span>local2.info<span class="w"> </span>chat<span class="o">[</span><span class="m">565</span><span class="o">]</span>:<span class="w"> </span>send<span class="w"> </span><span class="o">(</span>ATD*99#^M<span class="o">)</span>
<a id="__codelineno-13-40" name="__codelineno-13-40" href="#__codelineno-13-40"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:28<span class="w"> </span>mx4-gtt<span class="w"> </span>local2.info<span class="w"> </span>chat<span class="o">[</span><span class="m">565</span><span class="o">]</span>:<span class="w"> </span>timeout<span class="w"> </span><span class="nb">set</span><span class="w"> </span>to<span class="w"> </span><span class="m">22</span><span class="w"> </span>seconds
<a id="__codelineno-13-41" name="__codelineno-13-41" href="#__codelineno-13-41"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:28<span class="w"> </span>mx4-gtt<span class="w"> </span>local2.info<span class="w"> </span>chat<span class="o">[</span><span class="m">565</span><span class="o">]</span>:<span class="w"> </span>expect<span class="w"> </span><span class="o">(</span>CONNECT<span class="o">)</span>
<a id="__codelineno-13-42" name="__codelineno-13-42" href="#__codelineno-13-42"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:28<span class="w"> </span>mx4-gtt<span class="w"> </span>local2.info<span class="w"> </span>chat<span class="o">[</span><span class="m">565</span><span class="o">]</span>:<span class="w"> </span>^M
<a id="__codelineno-13-43" name="__codelineno-13-43" href="#__codelineno-13-43"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:28<span class="w"> </span>mx4-gtt<span class="w"> </span>local2.info<span class="w"> </span>chat<span class="o">[</span><span class="m">565</span><span class="o">]</span>:<span class="w"> </span>ATD*99#^M^M
<a id="__codelineno-13-44" name="__codelineno-13-44" href="#__codelineno-13-44"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:28<span class="w"> </span>mx4-gtt<span class="w"> </span>local2.info<span class="w"> </span>chat<span class="o">[</span><span class="m">565</span><span class="o">]</span>:<span class="w"> </span>CONNECT
<a id="__codelineno-13-45" name="__codelineno-13-45" href="#__codelineno-13-45"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:28<span class="w"> </span>mx4-gtt<span class="w"> </span>local2.info<span class="w"> </span>chat<span class="o">[</span><span class="m">565</span><span class="o">]</span>:<span class="w">  </span>--<span class="w"> </span>got<span class="w"> </span>it
<a id="__codelineno-13-46" name="__codelineno-13-46" href="#__codelineno-13-46"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:28<span class="w"> </span>mx4-gtt<span class="w"> </span>local2.info<span class="w"> </span>chat<span class="o">[</span><span class="m">565</span><span class="o">]</span>:<span class="w"> </span>send<span class="w"> </span><span class="o">(</span>^M<span class="o">)</span>
<a id="__codelineno-13-47" name="__codelineno-13-47" href="#__codelineno-13-47"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:28<span class="w"> </span>mx4-gtt<span class="w"> </span>daemon.debug<span class="w"> </span>pppd<span class="o">[</span><span class="m">564</span><span class="o">]</span>:<span class="w"> </span>Script<span class="w"> </span>/usr/sbin/chat<span class="w"> </span>-v<span class="w"> </span>-f<span class="w"> </span>/etc/ppp/pp
<a id="__codelineno-13-48" name="__codelineno-13-48" href="#__codelineno-13-48"></a>pd_connect-chat<span class="w"> </span>finished<span class="w"> </span><span class="o">(</span>pid<span class="w"> </span><span class="m">565</span><span class="o">)</span>,<span class="w"> </span><span class="nv">status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0x0
<a id="__codelineno-13-49" name="__codelineno-13-49" href="#__codelineno-13-49"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:28<span class="w"> </span>mx4-gtt<span class="w"> </span>daemon.info<span class="w"> </span>pppd<span class="o">[</span><span class="m">564</span><span class="o">]</span>:<span class="w"> </span>Serial<span class="w"> </span>connection<span class="w"> </span>established.
<a id="__codelineno-13-50" name="__codelineno-13-50" href="#__codelineno-13-50"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:28<span class="w"> </span>mx4-gtt<span class="w"> </span>daemon.debug<span class="w"> </span>pppd<span class="o">[</span><span class="m">564</span><span class="o">]</span>:<span class="w"> </span>using<span class="w"> </span>channel<span class="w"> </span><span class="m">2</span>
<a id="__codelineno-13-51" name="__codelineno-13-51" href="#__codelineno-13-51"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:28<span class="w"> </span>mx4-gtt<span class="w"> </span>daemon.info<span class="w"> </span>pppd<span class="o">[</span><span class="m">564</span><span class="o">]</span>:<span class="w"> </span>Using<span class="w"> </span>interface<span class="w"> </span>ppp0
<a id="__codelineno-13-52" name="__codelineno-13-52" href="#__codelineno-13-52"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:28<span class="w"> </span>mx4-gtt<span class="w"> </span>daemon.notice<span class="w"> </span>pppd<span class="o">[</span><span class="m">564</span><span class="o">]</span>:<span class="w"> </span>Connect:<span class="w"> </span>ppp0<span class="w"> </span>&lt;--&gt;<span class="w"> </span>/dev/ttyUSB3
<a id="__codelineno-13-53" name="__codelineno-13-53" href="#__codelineno-13-53"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:29<span class="w"> </span>mx4-gtt<span class="w"> </span>daemon.debug<span class="w"> </span>pppd<span class="o">[</span><span class="m">564</span><span class="o">]</span>:<span class="w"> </span>sent<span class="w"> </span><span class="o">[</span>LCP<span class="w"> </span>ConfReq<span class="w"> </span><span class="nv">id</span><span class="o">=</span>0x1<span class="w"> </span>&lt;asyncmap<span class="w"> </span>0x0&gt;
<a id="__codelineno-13-54" name="__codelineno-13-54" href="#__codelineno-13-54"></a><span class="w"> </span>&lt;magic<span class="w"> </span>0x6d4845a0&gt;<span class="o">]</span>
<a id="__codelineno-13-55" name="__codelineno-13-55" href="#__codelineno-13-55"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:29<span class="w"> </span>mx4-gtt<span class="w"> </span>daemon.debug<span class="w"> </span>pppd<span class="o">[</span><span class="m">564</span><span class="o">]</span>:<span class="w"> </span>rcvd<span class="w"> </span><span class="o">[</span>LCP<span class="w"> </span>ConfReq<span class="w"> </span><span class="nv">id</span><span class="o">=</span>0x0<span class="w"> </span>&lt;asyncmap<span class="w"> </span>0x0&gt;
<a id="__codelineno-13-56" name="__codelineno-13-56" href="#__codelineno-13-56"></a><span class="w"> </span>&lt;auth<span class="w"> </span>chap<span class="w"> </span>MD5&gt;<span class="w"> </span>&lt;magic<span class="w"> </span>0xc558301e&gt;<span class="w"> </span>&lt;pcomp&gt;<span class="w"> </span>&lt;accomp&gt;<span class="o">]</span>
<a id="__codelineno-13-57" name="__codelineno-13-57" href="#__codelineno-13-57"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:29<span class="w"> </span>mx4-gtt<span class="w"> </span>daemon.debug<span class="w"> </span>pppd<span class="o">[</span><span class="m">564</span><span class="o">]</span>:<span class="w"> </span>No<span class="w"> </span>auth<span class="w"> </span>is<span class="w"> </span>possible
<a id="__codelineno-13-58" name="__codelineno-13-58" href="#__codelineno-13-58"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:29<span class="w"> </span>mx4-gtt<span class="w"> </span>daemon.debug<span class="w"> </span>pppd<span class="o">[</span><span class="m">564</span><span class="o">]</span>:<span class="w"> </span>sent<span class="w"> </span><span class="o">[</span>LCP<span class="w"> </span>ConfRej<span class="w"> </span><span class="nv">id</span><span class="o">=</span>0x0<span class="w"> </span>&lt;auth<span class="w"> </span>chap<span class="w"> </span>MD5
<a id="__codelineno-13-59" name="__codelineno-13-59" href="#__codelineno-13-59"></a>&gt;<span class="w"> </span>&lt;pcomp&gt;<span class="w"> </span>&lt;accomp&gt;<span class="o">]</span>
<a id="__codelineno-13-60" name="__codelineno-13-60" href="#__codelineno-13-60"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:29<span class="w"> </span>mx4-gtt<span class="w"> </span>daemon.debug<span class="w"> </span>pppd<span class="o">[</span><span class="m">564</span><span class="o">]</span>:<span class="w"> </span>rcvd<span class="w"> </span><span class="o">[</span>LCP<span class="w"> </span>ConfAck<span class="w"> </span><span class="nv">id</span><span class="o">=</span>0x1<span class="w"> </span>&lt;asyncmap<span class="w"> </span>0x0&gt;
<a id="__codelineno-13-61" name="__codelineno-13-61" href="#__codelineno-13-61"></a><span class="w"> </span>&lt;magic<span class="w"> </span>0x6d4845a0&gt;<span class="o">]</span>
<a id="__codelineno-13-62" name="__codelineno-13-62" href="#__codelineno-13-62"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:29<span class="w"> </span>mx4-gtt<span class="w"> </span>daemon.debug<span class="w"> </span>pppd<span class="o">[</span><span class="m">564</span><span class="o">]</span>:<span class="w"> </span>rcvd<span class="w"> </span><span class="o">[</span>LCP<span class="w"> </span>ConfReq<span class="w"> </span><span class="nv">id</span><span class="o">=</span>0x1<span class="w"> </span>&lt;asyncmap<span class="w"> </span>0x0&gt;
<a id="__codelineno-13-63" name="__codelineno-13-63" href="#__codelineno-13-63"></a><span class="w"> </span>&lt;magic<span class="w"> </span>0xc558301e&gt;<span class="o">]</span>
<a id="__codelineno-13-64" name="__codelineno-13-64" href="#__codelineno-13-64"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:29<span class="w"> </span>mx4-gtt<span class="w"> </span>daemon.debug<span class="w"> </span>pppd<span class="o">[</span><span class="m">564</span><span class="o">]</span>:<span class="w"> </span>sent<span class="w"> </span><span class="o">[</span>LCP<span class="w"> </span>ConfAck<span class="w"> </span><span class="nv">id</span><span class="o">=</span>0x1<span class="w"> </span>&lt;asyncmap<span class="w"> </span>0x0&gt;
<a id="__codelineno-13-65" name="__codelineno-13-65" href="#__codelineno-13-65"></a><span class="w"> </span>&lt;magic<span class="w"> </span>0xc558301e&gt;<span class="o">]</span>
<a id="__codelineno-13-66" name="__codelineno-13-66" href="#__codelineno-13-66"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:29<span class="w"> </span>mx4-gtt<span class="w"> </span>daemon.warn<span class="w"> </span>pppd<span class="o">[</span><span class="m">564</span><span class="o">]</span>:<span class="w"> </span>kernel<span class="w"> </span>does<span class="w"> </span>not<span class="w"> </span>support<span class="w"> </span>PPP<span class="w"> </span>filtering
<a id="__codelineno-13-67" name="__codelineno-13-67" href="#__codelineno-13-67"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:29<span class="w"> </span>mx4-gtt<span class="w"> </span>daemon.debug<span class="w"> </span>pppd<span class="o">[</span><span class="m">564</span><span class="o">]</span>:<span class="w"> </span>sent<span class="w"> </span><span class="o">[</span>CCP<span class="w"> </span>ConfReq<span class="w"> </span><span class="nv">id</span><span class="o">=</span>0x1<span class="w"> </span>&lt;deflate<span class="w"> </span><span class="m">15</span>&gt;<span class="w"> </span>&lt;deflate<span class="o">(</span>old#<span class="o">)</span><span class="w"> </span><span class="m">15</span>&gt;<span class="o">]</span>
<a id="__codelineno-13-68" name="__codelineno-13-68" href="#__codelineno-13-68"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:29<span class="w"> </span>mx4-gtt<span class="w"> </span>daemon.debug<span class="w"> </span>pppd<span class="o">[</span><span class="m">564</span><span class="o">]</span>:<span class="w"> </span>sent<span class="w"> </span><span class="o">[</span>IPCP<span class="w"> </span>ConfReq<span class="w"> </span><span class="nv">id</span><span class="o">=</span>0x1<span class="w"> </span>&lt;addr<span class="w"> </span><span class="m">0</span>.0.0.0
<a id="__codelineno-13-69" name="__codelineno-13-69" href="#__codelineno-13-69"></a>&gt;<span class="w"> </span>&lt;ms-dns1<span class="w"> </span><span class="m">0</span>.0.0.0&gt;<span class="w"> </span>&lt;ms-dns2<span class="w"> </span><span class="m">0</span>.0.0.0&gt;<span class="o">]</span>
<a id="__codelineno-13-70" name="__codelineno-13-70" href="#__codelineno-13-70"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:29<span class="w"> </span>mx4-gtt<span class="w"> </span>daemon.debug<span class="w"> </span>pppd<span class="o">[</span><span class="m">564</span><span class="o">]</span>:<span class="w"> </span>rcvd<span class="w"> </span><span class="o">[</span>LCP<span class="w"> </span>DiscReq<span class="w"> </span><span class="nv">id</span><span class="o">=</span>0x2<span class="w"> </span><span class="nv">magic</span><span class="o">=</span>0xc558301e<span class="o">]</span>
<a id="__codelineno-13-71" name="__codelineno-13-71" href="#__codelineno-13-71"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:29<span class="w"> </span>mx4-gtt<span class="w"> </span>daemon.debug<span class="w"> </span>pppd<span class="o">[</span><span class="m">564</span><span class="o">]</span>:<span class="w"> </span>rcvd<span class="w"> </span><span class="o">[</span>LCP<span class="w"> </span>ProtRej<span class="w"> </span><span class="nv">id</span><span class="o">=</span>0x3<span class="w"> </span><span class="m">80</span><span class="w"> </span>fd<span class="w"> </span><span class="m">01</span><span class="w"> </span><span class="m">01</span><span class="w"> </span><span class="m">00</span>
<a id="__codelineno-13-72" name="__codelineno-13-72" href="#__codelineno-13-72"></a><span class="w"> </span>0c<span class="w"> </span>1a<span class="w"> </span><span class="m">04</span><span class="w"> </span><span class="m">78</span><span class="w"> </span><span class="m">00</span><span class="w"> </span><span class="m">18</span><span class="w"> </span><span class="m">04</span><span class="w"> </span><span class="m">78</span><span class="w"> </span><span class="m">00</span><span class="o">]</span>
<a id="__codelineno-13-73" name="__codelineno-13-73" href="#__codelineno-13-73"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:29<span class="w"> </span>mx4-gtt<span class="w"> </span>daemon.debug<span class="w"> </span>pppd<span class="o">[</span><span class="m">564</span><span class="o">]</span>:<span class="w"> </span>Protocol-Reject<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="s1">&#39;Compression Contro</span>
<a id="__codelineno-13-74" name="__codelineno-13-74" href="#__codelineno-13-74"></a><span class="s1">l Protocol&#39;</span><span class="w"> </span><span class="o">(</span>0x80fd<span class="o">)</span><span class="w"> </span>received
<a id="__codelineno-13-75" name="__codelineno-13-75" href="#__codelineno-13-75"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:30<span class="w"> </span>mx4-gtt<span class="w"> </span>daemon.debug<span class="w"> </span>pppd<span class="o">[</span><span class="m">564</span><span class="o">]</span>:<span class="w"> </span>rcvd<span class="w"> </span><span class="o">[</span>IPCP<span class="w"> </span>ConfNak<span class="w"> </span><span class="nv">id</span><span class="o">=</span>0x1<span class="o">]</span>
<a id="__codelineno-13-76" name="__codelineno-13-76" href="#__codelineno-13-76"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:30<span class="w"> </span>mx4-gtt<span class="w"> </span>daemon.debug<span class="w"> </span>pppd<span class="o">[</span><span class="m">564</span><span class="o">]</span>:<span class="w"> </span>sent<span class="w"> </span><span class="o">[</span>IPCP<span class="w"> </span>ConfReq<span class="w"> </span><span class="nv">id</span><span class="o">=</span>0x2<span class="w"> </span>&lt;addr<span class="w"> </span><span class="m">0</span>.0.0.0&gt;<span class="w"> </span>&lt;ms-dns1<span class="w"> </span><span class="m">0</span>.0.0.0&gt;<span class="w"> </span>&lt;ms-dns2<span class="w"> </span><span class="m">0</span>.0.0.0&gt;<span class="o">]</span>
<a id="__codelineno-13-77" name="__codelineno-13-77" href="#__codelineno-13-77"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:31<span class="w"> </span>mx4-gtt<span class="w"> </span>daemon.debug<span class="w"> </span>pppd<span class="o">[</span><span class="m">564</span><span class="o">]</span>:<span class="w"> </span>rcvd<span class="w"> </span><span class="o">[</span>IPCP<span class="w"> </span>ConfNak<span class="w"> </span><span class="nv">id</span><span class="o">=</span>0x2<span class="o">]</span>
<a id="__codelineno-13-78" name="__codelineno-13-78" href="#__codelineno-13-78"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:31<span class="w"> </span>mx4-gtt<span class="w"> </span>daemon.debug<span class="w"> </span>pppd<span class="o">[</span><span class="m">564</span><span class="o">]</span>:<span class="w"> </span>sent<span class="w"> </span><span class="o">[</span>IPCP<span class="w"> </span>ConfReq<span class="w"> </span><span class="nv">id</span><span class="o">=</span>0x3<span class="w"> </span>&lt;addr<span class="w"> </span><span class="m">0</span>.0.0.0&gt;<span class="w"> </span>&lt;ms-dns1<span class="w"> </span><span class="m">0</span>.0.0.0&gt;<span class="w"> </span>&lt;ms-dns2<span class="w"> </span><span class="m">0</span>.0.0.0&gt;<span class="o">]</span>
<a id="__codelineno-13-79" name="__codelineno-13-79" href="#__codelineno-13-79"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:32<span class="w"> </span>mx4-gtt<span class="w"> </span>daemon.debug<span class="w"> </span>pppd<span class="o">[</span><span class="m">564</span><span class="o">]</span>:<span class="w"> </span>rcvd<span class="w"> </span><span class="o">[</span>IPCP<span class="w"> </span>ConfNak<span class="w"> </span><span class="nv">id</span><span class="o">=</span>0x3<span class="o">]</span>
<a id="__codelineno-13-80" name="__codelineno-13-80" href="#__codelineno-13-80"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:32<span class="w"> </span>mx4-gtt<span class="w"> </span>daemon.debug<span class="w"> </span>pppd<span class="o">[</span><span class="m">564</span><span class="o">]</span>:<span class="w"> </span>sent<span class="w"> </span><span class="o">[</span>IPCP<span class="w"> </span>ConfReq<span class="w"> </span><span class="nv">id</span><span class="o">=</span>0x4<span class="w"> </span>&lt;addr<span class="w"> </span><span class="m">0</span>.0.0.0&gt;<span class="w"> </span>&lt;ms-dns1<span class="w"> </span><span class="m">0</span>.0.0.0&gt;<span class="w"> </span>&lt;ms-dns2<span class="w"> </span><span class="m">0</span>.0.0.0&gt;<span class="o">]</span>
<a id="__codelineno-13-81" name="__codelineno-13-81" href="#__codelineno-13-81"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:33<span class="w"> </span>mx4-gtt<span class="w"> </span>daemon.debug<span class="w"> </span>pppd<span class="o">[</span><span class="m">564</span><span class="o">]</span>:<span class="w"> </span>rcvd<span class="w"> </span><span class="o">[</span>IPCP<span class="w"> </span>ConfNak<span class="w"> </span><span class="nv">id</span><span class="o">=</span>0x4<span class="o">]</span>
<a id="__codelineno-13-82" name="__codelineno-13-82" href="#__codelineno-13-82"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:33<span class="w"> </span>mx4-gtt<span class="w"> </span>daemon.debug<span class="w"> </span>pppd<span class="o">[</span><span class="m">564</span><span class="o">]</span>:<span class="w"> </span>sent<span class="w"> </span><span class="o">[</span>IPCP<span class="w"> </span>ConfReq<span class="w"> </span><span class="nv">id</span><span class="o">=</span>0x5<span class="w"> </span>&lt;addr<span class="w"> </span><span class="m">0</span>.0.0.0&gt;<span class="w"> </span>&lt;ms-dns1<span class="w"> </span><span class="m">0</span>.0.0.0&gt;<span class="w"> </span>&lt;ms-dns2<span class="w"> </span><span class="m">0</span>.0.0.0&gt;<span class="o">]</span>
<a id="__codelineno-13-83" name="__codelineno-13-83" href="#__codelineno-13-83"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:34<span class="w"> </span>mx4-gtt<span class="w"> </span>daemon.debug<span class="w"> </span>pppd<span class="o">[</span><span class="m">564</span><span class="o">]</span>:<span class="w"> </span>rcvd<span class="w"> </span><span class="o">[</span>IPCP<span class="w"> </span>ConfReq<span class="w"> </span><span class="nv">id</span><span class="o">=</span>0x0<span class="o">]</span>
<a id="__codelineno-13-84" name="__codelineno-13-84" href="#__codelineno-13-84"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:34<span class="w"> </span>mx4-gtt<span class="w"> </span>daemon.debug<span class="w"> </span>pppd<span class="o">[</span><span class="m">564</span><span class="o">]</span>:<span class="w"> </span>sent<span class="w"> </span><span class="o">[</span>IPCP<span class="w"> </span>ConfNak<span class="w"> </span><span class="nv">id</span><span class="o">=</span>0x0<span class="w"> </span>&lt;addr<span class="w"> </span><span class="m">0</span>.0.0.0&gt;<span class="o">]</span>
<a id="__codelineno-13-85" name="__codelineno-13-85" href="#__codelineno-13-85"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:34<span class="w"> </span>mx4-gtt<span class="w"> </span>daemon.debug<span class="w"> </span>pppd<span class="o">[</span><span class="m">564</span><span class="o">]</span>:<span class="w"> </span>rcvd<span class="w"> </span><span class="o">[</span>IPCP<span class="w"> </span>ConfNak<span class="w"> </span><span class="nv">id</span><span class="o">=</span>0x5<span class="w"> </span>&lt;addr<span class="w"> </span><span class="m">10</span>.49.1
<a id="__codelineno-13-86" name="__codelineno-13-86" href="#__codelineno-13-86"></a><span class="m">19</span>.16&gt;<span class="w"> </span>&lt;ms-dns1<span class="w"> </span><span class="m">130</span>.244.127.161&gt;<span class="w"> </span>&lt;ms-dns2<span class="w"> </span><span class="m">130</span>.244.127.169&gt;<span class="o">]</span>
<a id="__codelineno-13-87" name="__codelineno-13-87" href="#__codelineno-13-87"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:34<span class="w"> </span>mx4-gtt<span class="w"> </span>daemon.debug<span class="w"> </span>pppd<span class="o">[</span><span class="m">564</span><span class="o">]</span>:<span class="w"> </span>sent<span class="w"> </span><span class="o">[</span>IPCP<span class="w"> </span>ConfReq<span class="w"> </span><span class="nv">id</span><span class="o">=</span>0x6<span class="w"> </span>&lt;addr<span class="w"> </span><span class="m">10</span>.49.1
<a id="__codelineno-13-88" name="__codelineno-13-88" href="#__codelineno-13-88"></a><span class="m">19</span>.16&gt;<span class="w"> </span>&lt;ms-dns1<span class="w"> </span><span class="m">130</span>.244.127.161&gt;<span class="w"> </span>&lt;ms-dns2<span class="w"> </span><span class="m">130</span>.244.127.169&gt;<span class="o">]</span>
<a id="__codelineno-13-89" name="__codelineno-13-89" href="#__codelineno-13-89"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:34<span class="w"> </span>mx4-gtt<span class="w"> </span>daemon.debug<span class="w"> </span>pppd<span class="o">[</span><span class="m">564</span><span class="o">]</span>:<span class="w"> </span>rcvd<span class="w"> </span><span class="o">[</span>IPCP<span class="w"> </span>ConfReq<span class="w"> </span><span class="nv">id</span><span class="o">=</span>0x1<span class="o">]</span>
<a id="__codelineno-13-90" name="__codelineno-13-90" href="#__codelineno-13-90"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:34<span class="w"> </span>mx4-gtt<span class="w"> </span>daemon.debug<span class="w"> </span>pppd<span class="o">[</span><span class="m">564</span><span class="o">]</span>:<span class="w"> </span>sent<span class="w"> </span><span class="o">[</span>IPCP<span class="w"> </span>ConfAck<span class="w"> </span><span class="nv">id</span><span class="o">=</span>0x1<span class="o">]</span>
<a id="__codelineno-13-91" name="__codelineno-13-91" href="#__codelineno-13-91"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:34<span class="w"> </span>mx4-gtt<span class="w"> </span>daemon.debug<span class="w"> </span>pppd<span class="o">[</span><span class="m">564</span><span class="o">]</span>:<span class="w"> </span>rcvd<span class="w"> </span><span class="o">[</span>IPCP<span class="w"> </span>ConfAck<span class="w"> </span><span class="nv">id</span><span class="o">=</span>0x6<span class="w"> </span>&lt;addr<span class="w"> </span><span class="m">10</span>.49.1
<a id="__codelineno-13-92" name="__codelineno-13-92" href="#__codelineno-13-92"></a><span class="m">19</span>.16&gt;<span class="w"> </span>&lt;ms-dns1<span class="w"> </span><span class="m">130</span>.244.127.161&gt;<span class="w"> </span>&lt;ms-dns2<span class="w"> </span><span class="m">130</span>.244.127.169&gt;<span class="o">]</span>
<a id="__codelineno-13-93" name="__codelineno-13-93" href="#__codelineno-13-93"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:34<span class="w"> </span>mx4-gtt<span class="w"> </span>daemon.warn<span class="w"> </span>pppd<span class="o">[</span><span class="m">564</span><span class="o">]</span>:<span class="w"> </span>Could<span class="w"> </span>not<span class="w"> </span>determine<span class="w"> </span>remote<span class="w"> </span>IP<span class="w"> </span>address:<span class="w"> </span>d
<a id="__codelineno-13-94" name="__codelineno-13-94" href="#__codelineno-13-94"></a>efaulting<span class="w"> </span>to<span class="w"> </span><span class="m">10</span>.64.64.64
<a id="__codelineno-13-95" name="__codelineno-13-95" href="#__codelineno-13-95"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:34<span class="w"> </span>mx4-gtt<span class="w"> </span>daemon.notice<span class="w"> </span>pppd<span class="o">[</span><span class="m">564</span><span class="o">]</span>:<span class="w"> </span><span class="nb">local</span><span class="w">  </span>IP<span class="w"> </span>address<span class="w"> </span><span class="m">10</span>.49.119.16
<a id="__codelineno-13-96" name="__codelineno-13-96" href="#__codelineno-13-96"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:34<span class="w"> </span>mx4-gtt<span class="w"> </span>daemon.notice<span class="w"> </span>pppd<span class="o">[</span><span class="m">564</span><span class="o">]</span>:<span class="w"> </span>remote<span class="w"> </span>IP<span class="w"> </span>address<span class="w"> </span><span class="m">10</span>.64.64.64
<a id="__codelineno-13-97" name="__codelineno-13-97" href="#__codelineno-13-97"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:34<span class="w"> </span>mx4-gtt<span class="w"> </span>daemon.notice<span class="w"> </span>pppd<span class="o">[</span><span class="m">564</span><span class="o">]</span>:<span class="w"> </span>primary<span class="w">   </span>DNS<span class="w"> </span>address<span class="w"> </span><span class="m">130</span>.244.127.161
<a id="__codelineno-13-98" name="__codelineno-13-98" href="#__codelineno-13-98"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:34<span class="w"> </span>mx4-gtt<span class="w"> </span>daemon.notice<span class="w"> </span>pppd<span class="o">[</span><span class="m">564</span><span class="o">]</span>:<span class="w"> </span>secondary<span class="w"> </span>DNS<span class="w"> </span>address<span class="w"> </span><span class="m">130</span>.244.127.169
<a id="__codelineno-13-99" name="__codelineno-13-99" href="#__codelineno-13-99"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:34<span class="w"> </span>mx4-gtt<span class="w"> </span>daemon.debug<span class="w"> </span>pppd<span class="o">[</span><span class="m">564</span><span class="o">]</span>:<span class="w"> </span>Script<span class="w"> </span>/etc/ppp/ip-up<span class="w"> </span>started<span class="w"> </span><span class="o">(</span>pid<span class="w"> </span><span class="m">569</span><span class="o">)</span>
<a id="__codelineno-13-100" name="__codelineno-13-100" href="#__codelineno-13-100"></a>
<a id="__codelineno-13-101" name="__codelineno-13-101" href="#__codelineno-13-101"></a>root@mx4-gtt:/etc/ppp/operators#<span class="w"> </span>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:43<span class="w"> </span>mx4-gtt<span class="w"> </span>daemon.err<span class="w"> </span>ntpdate<span class="o">[</span><span class="m">576</span><span class="o">]</span>:<span class="w"> </span>no<span class="w"> </span>se
<a id="__codelineno-13-102" name="__codelineno-13-102" href="#__codelineno-13-102"></a>rver<span class="w"> </span>suitable<span class="w"> </span><span class="k">for</span><span class="w"> </span>synchronization<span class="w"> </span>found
<a id="__codelineno-13-103" name="__codelineno-13-103" href="#__codelineno-13-103"></a>Dec<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="m">10</span>:35:43<span class="w"> </span>mx4-gtt<span class="w"> </span>daemon.debug<span class="w"> </span>pppd<span class="o">[</span><span class="m">564</span><span class="o">]</span>:<span class="w"> </span>Script<span class="w"> </span>/etc/ppp/ip-up<span class="w"> </span>finished<span class="w"> </span><span class="o">(</span>pid<span class="w"> </span><span class="m">569</span>
<a id="__codelineno-13-104" name="__codelineno-13-104" href="#__codelineno-13-104"></a><span class="o">)</span>,<span class="w"> </span><span class="nv">status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>0x1
</code></pre></div>
<p>You can now also see with <code>ifconfig</code> that you got a ppp connection</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>root@mx4-gtt:~#<span class="w"> </span>ifconfig<span class="w"> </span>ppp0
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>ppp0<span class="w">      </span>Link<span class="w"> </span>encap:Point-to-Point<span class="w"> </span>Protocol
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="w">          </span>inet<span class="w"> </span>addr:10.49.119.16<span class="w">  </span>P-t-P:10.64.64.64<span class="w">  </span>Mask:255.255.255.255
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="w">          </span>UP<span class="w"> </span>POINTOPOINT<span class="w"> </span>RUNNING<span class="w"> </span>NOARP<span class="w"> </span>MULTICAST<span class="w">  </span>MTU:1400<span class="w">  </span>Metric:1
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="w">          </span>RX<span class="w"> </span>packets:10<span class="w"> </span>errors:0<span class="w"> </span>dropped:0<span class="w"> </span>overruns:0<span class="w"> </span>frame:0
<a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a><span class="w">          </span>TX<span class="w"> </span>packets:27<span class="w"> </span>errors:0<span class="w"> </span>dropped:0<span class="w"> </span>overruns:0<span class="w"> </span>carrier:0
<a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a><span class="w">          </span>collisions:0<span class="w"> </span>txqueuelen:3
<a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a><span class="w">          </span>RX<span class="w"> </span>bytes:662<span class="w"> </span><span class="o">(</span><span class="m">662</span>.0<span class="w"> </span>B<span class="o">)</span><span class="w">  </span>TX<span class="w"> </span>bytes:1490<span class="w"> </span><span class="o">(</span><span class="m">1</span>.4<span class="w"> </span>KiB<span class="o">)</span>
</code></pre></div>
<h3 id="gps_1">GPS<a class="headerlink" href="#gps_1" title="Permanent link">⚓︎</a></h3>
<p>The GPS chip is integrated in the modem module. Default it is turned off. To turn on the GPS chip send following AT command to the application port. This is not a persistent setting so one has to enable GPS each time modem restarts if GPS data is desired.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>root@mx4-gtt:~#<span class="w"> </span><span class="nb">printf</span><span class="w"> </span><span class="s1">&#39;at^sgpsc=&quot;Engine&quot;,&quot;1&quot;\r&#39;</span><span class="w"> </span>&gt;<span class="w"> </span>/dev/ttyUSB2
</code></pre></div>
<p>The NMEA output can be read out of /dev/ttyUSB1</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>root@mx4-gtt:~#<span class="w"> </span>cat<span class="w"> </span>/dev/ttyUSB1
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="nv">$GPGSV</span>,4,1,16,24,,,,05,,,,18,,,,22,,,*71
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="nv">$GPGSV</span>,4,2,16,04,,,,11,,,,17,,,,03,,,*79
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="nv">$GPGSV</span>,4,3,16,12,,,,30,,,,01,,,,23,,,*79
<a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a><span class="nv">$GPGSV</span>,4,4,16,15,,,,27,,,,07,,,,31,,,*7A
<a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a><span class="nv">$GPGGA</span>,,,,,,0,,,,,,,,*66
<a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a><span class="nv">$GPVTG</span>,,T,,M,,N,,K,N*2C
<a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a><span class="nv">$GPRMC</span>,,V,,,,,,,,,,N*53
<a id="__codelineno-16-9" name="__codelineno-16-9" href="#__codelineno-16-9"></a><span class="nv">$GPGSA</span>,A,1,,,,,,,,,,,,,,,*1E
</code></pre></div>
<h4 id="gps-for-some-other-versions">GPS for some other versions<a class="headerlink" href="#gps-for-some-other-versions" title="Permanent link">⚓︎</a></h4>
<p>On some units the /dev/ttyACM2 and /dev/ttyACM1 is used instead.</p>
<p>First activate the modem(if it is not already activated)</p>
<pre>echo 1 > /opt/hm/pic_attributes/ctrl_modem_on</pre>

<p>Wait a few seconds for the modem to turn on. You should see /dev/ttyACM2 and /dev/ttyACM1 if you do </p>
<pre>ls /dev</pre>

<p>Connect to ACM2 using microcom(or other serial port program) so you can send commands</p>
<pre>microcom /dev/ttyACM2</pre>

<p>in microcom for ttyACM2 run these 2 commands to enable the Engine and enable GPS data output</p>
<pre>at^sgpsc="Engine","1"
at^sgpsc="Nmea/Output","on"</pre>

<p>in microcom for ttyACM1 all GPS data output should now be displayed:</p>
<pre>microcom /dev/ttyACM1</pre>

<h3 id="watchdog">Watchdog<a class="headerlink" href="#watchdog" title="Permanent link">⚓︎</a></h3>
<p>The co-processor acts as a watchdog of the modem. It monitors the power indicator signal by default. If it should detect that the modem is for some reason turned off even though it should be on it will attempt to restart it at first via a soft reset signal and after a few attempts it will do a hard-reset of modem.</p>
<p>To enable monitoring of SLED signal which is an output from modem which reports current status one has to enable this signal. This signal should always toggle on/off, depending on state it toggles in different frequency. Should the co-cpu detect that it stops toggling which is an ERROR state it will attempt to soft restart modem first and if that fails a hard-reset.</p>
<p>To start monitoring of SLED signal input following command to modem. This is not a persistent setting so one has to do this each time modem starts up.
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>root@mx4-gtt:~#<span class="w"> </span><span class="nb">printf</span><span class="w"> </span><span class="s2">&quot;AT^SLED=2\r&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>/dev/ttyUSB3
</code></pre></div></p>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["toc.integrate", "header.autohide", "content.code.copy", "navigation.top"], "search": "../../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.d7c377c4.min.js"></script>
      
    
  </body>
</html>